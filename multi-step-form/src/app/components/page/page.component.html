<ng-template #loading>
    Loading page...
</ng-template>

<div *ngIf="formPage$ | async as page; else loading" class="h-screen bg-gray-200 grid justify-center content-center">
    <div class="w-full max-w-lg">
        <form class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4">
            <div data-testid="title" class="flex w-full justify-center font-bold text-gray-500 m-auto mb-8">{{page.title}}</div>
                
            <!-- Input Area -->
            <div>
                <div *ngFor="let inputArea of page.inputs; " class="mb-4 md:flex md:items-center">
                    <div class="md:w-1/3">
                        <label for="inputArea.id" 
                        class="block text-gray-500 font-bold md:text-right mb-1 md:mb-0 pr-4" >
                            {{inputArea.label}}
                        </label>
                    </div>
                    <div class="md:w-2/3">
                        <input [attr.data-testid]="inputArea.id"
                        [name]="inputArea.id"
                        class="bg-gray-100 appearance-none border-2 border-gray-200 rounded w-full py-2 px-4 text-gray-700 leading-tight focus:outline-none focus:bg-white focus:border-purple-500">                        
                    </div>
                </div>
            </div>

            <app-nav-button-area 
            (nextClicked)="onSubmit()" 
            (prevClicked)="onPrevClicked()"
            ></app-nav-button-area>
    
        </form>
    </div>
</div>
